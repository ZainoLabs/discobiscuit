<!-- THE SCRIPT <script type="text/x-handlebars" data-template-name="preferences/profile">
  {{!-- {{commented expressions}} --}}
</script>-->



<!--<script type="text/x-handlebars" data-template-name="/connectors/below-footer/fancy-footer">
<div class="footer">
  <div class="wrap">
    <ul>
      <li><a href="/about">About</a></li>
      <li><a href="/Privacy">Privacy</a></li>
      <li><a href="/TOS">Terms of Service</a></li>
    </ul>
    <div class="footer-logo">
      {{mount-widget widget="home-logo"}}
    </div>
  </div>
</div>
</script>-->

<!-- update template: preferences/profile - add text about how to update profile -->


<!--<script type="text/x-handlebars" data-template-name="preferences/profile">
<div class="alert alert-warning pb-3">To update your profile fields please visit your <i class="fas fa-tachometer-alt"></i><a href="https://affiliateawesome.com/dashboard"> Dashboard</a>.
  <i class="fab fa-twitter"></i>
  <span><svg class="fa d-icon d-icon-user-times svg-icon svg-string" xmlns="http://www.w3.org/2000/svg"><use xlink:href="#user-times"></use></svg></span>
        <span><svg class="fa d-icon d-icon-twitter svg-icon svg-string" xmlns="http://www.w3.org/2000/svg"><use xlink:href="#twitter"></use></svg></span>
</div>
{{#if canChangeBio}}
<div class="control-group pref-bio">
  <label class="control-label">{{i18n 'user.bio'}}</label>
  <div class="controls bio-composer input-xxlarge">
    {{d-editor value=model.bio_raw}}
  </div>
</div>
{{/if}}

<div class="control-group pref-location">
  <label class="control-label">{{i18n 'user.location'}}</label>
  <div class="controls">
    {{input type="text" value=model.location class="input-xxlarge" id='edit-location'}}
  </div>
</div>

<div class="control-group pref-website">
  <label class="control-label">{{i18n 'user.website'}}</label>
  <div class="controls">
    {{input type="text" value=model.website class="input-xxlarge"}}
  </div>
</div>

{{!-- CUSTOM added  id="grace" --}}
{{#each userFields as |uf|}}
  <div id="grace" class="control-group">
    {{user-field field=uf.field value=uf.value}}
  </div>
{{/each}}
<div class='clearfix'></div>

{{#if siteSettings.allow_profile_backgrounds}}
  <div class="control-group pref-profile-bg">
    <label class="control-label">{{i18n 'user.change_profile_background.title'}}</label>
    <div class="controls">
      {{image-uploader imageUrl=model.profile_background type="profile_background"}}
    </div>
    <div class='instructions'>
      {{i18n 'user.change_profile_background.instructions'}}
    </div>
  </div>

  <div class="control-group pref-profile-bg">
    <label class="control-label">{{i18n 'user.change_card_background.title'}}</label>
    <div class="controls">
      {{image-uploader imageUrl=model.card_background type="card_background"}}
    </div>
    <div class='instructions'>
      {{i18n 'user.change_card_background.instructions'}}
    </div>
  </div>
{{/if}}

{{plugin-outlet name="user-preferences-profile" args=(hash model=model save=(action "save"))}}

{{plugin-outlet name="user-custom-preferences" args=(hash model=model)}}

<br/>

{{plugin-outlet name="user-custom-controls" args=(hash model=model)}}

<div class="control-group save-button">
  <div class="controls">
    {{partial 'user/preferences/save-button'}}
  </div>
</div>

</script>-->

<!-- update template: preferences/interface - removed private option -->
<script type="text/x-handlebars" data-template-name="preferences/interface">

{{#if showThemeSelector}}
<div class="control-group theme">
  <label class="control-label">{{i18n 'user.theme'}}</label>
  <div class="controls">
    {{combo-box content=userSelectableThemes value=themeId}}
  </div>
  <div class="controls">
    {{preference-checkbox labelKey="user.theme_default_on_all_devices" checked=makeThemeDefault}}
  </div>
</div>
{{/if}}

<div class="control-group text-size">
  <label class="control-label">{{i18n 'user.text_size.title'}}</label>
  <div class="controls">
    {{combo-box valueAttribute="value" content=textSizes value=textSize onSelect=(action "selectTextSize")}}
  </div>
  <div class="controls">
    {{preference-checkbox labelKey="user.text_size_default_on_all_devices" checked=makeTextSizeDefault}}
  </div>
</div>

{{#if siteSettings.allow_user_locale}}
  <div class="control-group pref-locale">
    <label class="control-label">{{i18n 'user.locale.title'}}</label>
    <div class="controls">
      {{combo-box filterable=true valueAttribute="value" content=availableLocales value=model.locale none="user.locale.default"}}
    </div>
    <div class='instructions'>
      {{i18n 'user.locale.instructions'}}
    </div>
  </div>
{{/if}}


<div class="control-group home">
  <label class="control-label">{{i18n 'user.home'}}</label>
  <div class="controls">
    {{combo-box content=userSelectableHome valueAttribute="value" value=model.user_option.homepage_id}}
  </div>
</div>

<div class="control-group other">
  <label class="control-label">{{i18n 'user.other_settings'}}</label>

  {{preference-checkbox labelKey="user.external_links_in_new_tab" checked=model.user_option.external_links_in_new_tab}}
  {{preference-checkbox labelKey="user.enable_quoting" checked=model.user_option.enable_quoting}}
  {{preference-checkbox labelKey="user.dynamic_favicon" checked=model.user_option.dynamic_favicon}}
  {{preference-checkbox labelKey="user.disable_jump_reply" checked=model.user_option.disable_jump_reply}}
  {{#if siteSettings.automatically_unpin_topics}}
    {{preference-checkbox labelKey="user.automatically_unpin_topics" checked=model.user_option.automatically_unpin_topics}}
  {{/if}}
  {{!--CUSTOM REMOVE private profile option {{preference-checkbox labelKey="user.hide_profile_and_presence" checked=model.user_option.hide_profile_and_presence}} --}}
  {{!-- {{commented expressions}} --}}
</div>

{{plugin-outlet name="user-preferences-interface" args=(hash model=model save=(action "save"))}}

<br/>

{{plugin-outlet name="user-custom-controls" args=(hash model=model)}}

<div class="control-group save-button">
  <div class="controls">
    {{partial 'user/preferences/save-button'}}
  </div>
</div>
</script>

<script type="text/x-handlebars" data-template-name="users">
  {{#d-section pageClass="users"}}
  {{#load-more selector=".directory tbody tr" action=(action "loadMore")}}
    <div class="container">
      <div class='directory'>
        {{plugin-outlet name="users-top" connectorTagName='div' args=(hash model=model)}}
        <div class='clearfix'>
          {{period-chooser period=period}}
          {{text-field value=nameInput placeholderKey="directory.filter_name" class="filter-name no-blur"}}
        </div>

        {{#conditional-loading-spinner condition=model.loading}}
          {{#if model.length}}
            <div class='total-rows'>{{i18n "directory.total_rows" count=model.totalRows}}</div>

            <table>
              <thead>
                <th>&nbsp;</th>
                {{directory-toggle field="likes_received" order=order asc=asc icon="heart"}}
                {{directory-toggle field="likes_received" order=order asc=asc icon="heart"}}
                {{directory-toggle field="likes_given" order=order asc=asc icon="heart"}}
                {{directory-toggle field="topic_count" order=order asc=asc}}
                {{directory-toggle field="post_count" order=order asc=asc}}
                {{directory-toggle field="topics_entered" order=order asc=asc}}
                {{directory-toggle field="posts_read" order=order asc=asc}}
                {{directory-toggle field="days_visited" order=order asc=asc}}
                {{#if showTimeRead}}
                  <th>{{i18n "directory.time_read"}}</th>
                {{/if}}
              </thead>
              <tbody>
                {{#each model as |item|}}
                  {{directory-item item=item showTimeRead=showTimeRead}}
                {{/each}}
              </tbody>
            </table>

            {{conditional-loading-spinner condition=model.loadingMore}}
          {{else}}
            <div class='clearfix'></div>
            <p>{{i18n "directory.no_results"}}</p>
          {{/if}}
        {{/conditional-loading-spinner}}

      </div>
    </div>
  {{/load-more}}
{{/d-section}}
</script>



